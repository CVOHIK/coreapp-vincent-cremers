
@model Buisiness.ViewModel.DetailCustomerVM;
@{
    ViewData["Title"] = "DetailCustomer";

}
<h2>Customer</h2>


<hr />
<dl class="dl-horizontal">
    <dt>
        @Html.DisplayNameFor(model => model.Customer.FirstName)
    </dt>
    <dd>
        @Html.DisplayFor(model => model.Customer.FirstName)
    </dd>
    <dt>
        @Html.DisplayNameFor(model => model.Customer.Name)
    </dt>
    <dd>
        @Html.DisplayFor(model => model.Customer.Name)
    </dd>
</dl>

<hr />


<h3>Overview ShoppingBags</h3>

<input class="btn btn-default"
       type="button"
       value="Create New ShoppingBag"
       onclick="location.href='@Url.Action("NewShoppingBag","Shop", new { id = Model.Customer.Id } )'" />
<br />
<br />



<table class="table table-striped table-bordered table-sm" cellspacing="0">
    <tr>
        <th>
            @Html.DisplayNameFor(x => x.ShoppingBags.First().Id)
        </th>
        <th>
            @Html.DisplayNameFor(x => x.ShoppingBags.First().Date)
        </th>
        <th class="text-right">
            @Html.DisplayNameFor(x => x.ShoppingBags.First().NrOfItemsInBag)
        </th>
        <th class="text-right">
            @Html.DisplayNameFor(x => x.ShoppingBags.First().TotalMinusDiscount)
        </th>
        <th>
        </th>
    </tr>


    @foreach (Buisiness.ShoppingBag shoppingBag in Model.ShoppingBags)
    {
    <tr>
        <td>
            @Html.DisplayFor(bag => shoppingBag.Id)

        </td>
        <td>
            @Html.DisplayFor(bag => shoppingBag.Date)
        </td>
        <td class="text-right">
            @Html.DisplayFor(bag => shoppingBag.NrOfItemsInBag)
        </td>
        <td class="text-right">

            @String.Format("{0:c}", shoppingBag.TotalMinusDiscount)
        </td>
        <td>
            <a asp-controller="Shop" asp-action="DetailBag" asp-route-id="@shoppingBag.Id">Open</a>
        </td>
    </tr>
    }

</table>
<a asp-action="Index" asp-controller="Main">Back</a>
